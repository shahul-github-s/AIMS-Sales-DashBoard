import{P as d,r as p,R as jr,j as o,z as wr,B as Er,w as tr,M as Ar,D as Or}from"./mui-913aed92.js";import{k as O,Q as nr,a as Fr,u as Sr,w as $e,V as Be,S as Cr,x as Pr,y as Tr,A as Nr}from"./index-9074475a.js";import{S as be}from"./index-f91c2928.js";import{u as _r,C as ye}from"./index.esm-a6fb6a1d.js";import{u as He}from"./useDraggableScrollContainer-c56b9432.js";import"./memoize-one.esm-297ddbcb.js";function L(e,r,t,n){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function f(v){try{c(n.next(v))}catch(y){s(y)}}function g(v){try{c(n.throw(v))}catch(y){s(y)}}function c(v){v.done?a(v.value):i(v.value).then(f,g)}c((n=n.apply(e,r||[])).next())})}function K(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=f(0),s.throw=f(1),s.return=f(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function f(c){return function(v){return g([c,v])}}function g(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=r.call(e,t)}catch(v){c=[6,v],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function We(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,a=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(f){s={error:f}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return a}function qe(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,a;n<i;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))}var kr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function U(e,r){var t=Ir(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Ir(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),i=kr.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var Rr=[".DS_Store","Thumbs.db"];function Mr(e){return L(this,void 0,void 0,function(){return K(this,function(r){return ne(e)&&zr(e.dataTransfer)?[2,Br(e.dataTransfer,e.type)]:Lr(e)?[2,Kr(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,$r(e)]:[2,[]]})})}function zr(e){return ne(e)}function Lr(e){return ne(e)&&ne(e.target)}function ne(e){return typeof e=="object"&&e!==null}function Kr(e){return je(e.target.files).map(function(r){return U(r)})}function $r(e){return L(this,void 0,void 0,function(){var r;return K(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return U(n)})]}})})}function Br(e,r){return L(this,void 0,void 0,function(){var t,n;return K(this,function(i){switch(i.label){case 0:return e.items?(t=je(e.items).filter(function(a){return a.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Hr))]):[3,2];case 1:return n=i.sent(),[2,Ue(ar(n))];case 2:return[2,Ue(je(e.files).map(function(a){return U(a)}))]}})})}function Ue(e){return e.filter(function(r){return Rr.indexOf(r.name)===-1})}function je(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function Hr(e){if(typeof e.webkitGetAsEntry!="function")return Ge(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?ir(r):Ge(e)}function ar(e){return e.reduce(function(r,t){return qe(qe([],We(r),!1),We(Array.isArray(t)?ar(t):[t]),!1)},[])}function Ge(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=U(r);return Promise.resolve(t)}function Wr(e){return L(this,void 0,void 0,function(){return K(this,function(r){return[2,e.isDirectory?ir(e):qr(e)]})})}function ir(e){var r=e.createReader();return new Promise(function(t,n){var i=[];function a(){var s=this;r.readEntries(function(f){return L(s,void 0,void 0,function(){var g,c,v;return K(this,function(y){switch(y.label){case 0:if(f.length)return[3,5];y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return g=y.sent(),t(g),[3,4];case 3:return c=y.sent(),n(c),[3,4];case 4:return[3,6];case 5:v=Promise.all(f.map(Wr)),i.push(v),a(),y.label=6;case 6:return[2]}})})},function(f){n(f)})}a()})}function qr(e){return L(this,void 0,void 0,function(){return K(this,function(r){return[2,new Promise(function(t,n){e.file(function(i){var a=U(i,e.fullPath);t(a)},function(i){n(i)})})]})})}var xe=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(",");if(t.length===0)return!0;var n=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return t.some(function(s){var f=s.trim().toLowerCase();return f.charAt(0)==="."?n.toLowerCase().endsWith(f):f.endsWith("/*")?a===f.replace(/\/.*$/,""):i===f})}return!0};function Ve(e){return Vr(e)||Gr(e)||lr(e)||Ur()}function Ur(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vr(e){if(Array.isArray(e))return we(e)}function Ye(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Je(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ye(Object(t),!0).forEach(function(n){or(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ye(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function or(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function q(e,r){return Qr(e)||Jr(e,r)||lr(e,r)||Yr()}function Yr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lr(e,r){if(e){if(typeof e=="string")return we(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return we(e,r)}}function we(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Jr(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,s,f;try{for(t=t.call(e);!(i=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));i=!0);}catch(g){a=!0,f=g}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw f}}return n}}function Qr(e){if(Array.isArray(e))return e}var Xr=typeof xe=="function"?xe:xe.default,Zr="file-invalid-type",et="file-too-large",rt="file-too-small",tt="too-many-files",nt=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:Zr,message:"File type must be ".concat(t)}},Qe=function(r){return{code:et,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},Xe=function(r){return{code:rt,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},at={code:tt,message:"Too many files"};function sr(e,r){var t=e.type==="application/x-moz-file"||Xr(e,r);return[t,t?null:nt(r)]}function cr(e,r,t){if(_(e.size))if(_(r)&&_(t)){if(e.size>t)return[!1,Qe(t)];if(e.size<r)return[!1,Xe(r)]}else{if(_(r)&&e.size<r)return[!1,Xe(r)];if(_(t)&&e.size>t)return[!1,Qe(t)]}return[!0,null]}function _(e){return e!=null}function it(e){var r=e.files,t=e.accept,n=e.minSize,i=e.maxSize,a=e.multiple,s=e.maxFiles,f=e.validator;return!a&&r.length>1||a&&s>=1&&r.length>s?!1:r.every(function(g){var c=sr(g,t),v=q(c,1),y=v[0],F=cr(g,n,i),S=q(F,1),C=S[0],P=f?f(g):null;return y&&C&&!P})}function ae(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function te(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Ze(e){e.preventDefault()}function ot(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function lt(e){return e.indexOf("Edge/")!==-1}function st(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ot(e)||lt(e)}function A(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return r.some(function(f){return!ae(n)&&f&&f.apply(void 0,[n].concat(a)),ae(n)})}}function ct(){return"showOpenFilePicker"in window}function ut(e){if(_(e)){var r=Object.entries(e).filter(function(t){var n=q(t,2),i=n[0],a=n[1],s=!0;return ur(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(a)||!a.every(fr))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(t,n){var i=q(n,2),a=i[0],s=i[1];return Je(Je({},t),{},or({},a,s))},{});return[{description:"Files",accept:r}]}return e}function ft(e){if(_(e))return Object.entries(e).reduce(function(r,t){var n=q(t,2),i=n[0],a=n[1];return[].concat(Ve(r),[i],Ve(a))},[]).filter(function(r){return ur(r)||fr(r)}).join(",")}function pt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function dt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function ur(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function fr(e){return/^.*\.[\w]+$/.test(e)}var mt=["children"],gt=["open"],ht=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],vt=["refKey","onChange","onClick"];function bt(e){return Dt(e)||xt(e)||pr(e)||yt()}function yt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dt(e){if(Array.isArray(e))return Ee(e)}function De(e,r){return Et(e)||wt(e,r)||pr(e,r)||jt()}function jt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pr(e,r){if(e){if(typeof e=="string")return Ee(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ee(e,r)}}function Ee(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function wt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,s,f;try{for(t=t.call(e);!(i=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));i=!0);}catch(g){a=!0,f=g}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw f}}return n}}function Et(e){if(Array.isArray(e))return e}function er(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?er(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):er(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ae(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ie(e,r){if(e==null)return{};var t=At(e,r),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function At(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}var Fe=p.forwardRef(function(e,r){var t=e.children,n=ie(e,mt),i=mr(n),a=i.open,s=ie(i,gt);return p.useImperativeHandle(r,function(){return{open:a}},[a]),jr.createElement(p.Fragment,null,t(h(h({},s),{},{open:a})))});Fe.displayName="Dropzone";var dr={disabled:!1,getFilesFromEvent:Mr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Fe.defaultProps=dr;Fe.propTypes={children:d.func,accept:d.objectOf(d.arrayOf(d.string)),multiple:d.bool,preventDropOnDocument:d.bool,noClick:d.bool,noKeyboard:d.bool,noDrag:d.bool,noDragEventsBubbling:d.bool,minSize:d.number,maxSize:d.number,maxFiles:d.number,disabled:d.bool,getFilesFromEvent:d.func,onFileDialogCancel:d.func,onFileDialogOpen:d.func,useFsAccessApi:d.bool,autoFocus:d.bool,onDragEnter:d.func,onDragLeave:d.func,onDragOver:d.func,onDrop:d.func,onDropAccepted:d.func,onDropRejected:d.func,onError:d.func,validator:d.func};var Oe={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function mr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=h(h({},dr),e),t=r.accept,n=r.disabled,i=r.getFilesFromEvent,a=r.maxSize,s=r.minSize,f=r.multiple,g=r.maxFiles,c=r.onDragEnter,v=r.onDragLeave,y=r.onDragOver,F=r.onDrop,S=r.onDropAccepted,C=r.onDropRejected,P=r.onFileDialogCancel,$=r.onFileDialogOpen,G=r.useFsAccessApi,V=r.autoFocus,m=r.preventDropOnDocument,k=r.noClick,oe=r.noKeyboard,Se=r.noDrag,T=r.noDragEventsBubbling,le=r.onError,B=r.validator,H=p.useMemo(function(){return ft(t)},[t]),Ce=p.useMemo(function(){return ut(t)},[t]),se=p.useMemo(function(){return typeof $=="function"?$:rr},[$]),Y=p.useMemo(function(){return typeof P=="function"?P:rr},[P]),D=p.useRef(null),E=p.useRef(null),hr=p.useReducer(Ot,Oe),Pe=De(hr,2),ce=Pe[0],j=Pe[1],vr=ce.isFocused,Te=ce.isFileDialogActive,J=p.useRef(typeof window<"u"&&window.isSecureContext&&G&&ct()),Ne=function(){!J.current&&Te&&setTimeout(function(){if(E.current){var u=E.current.files;u.length||(j({type:"closeDialog"}),Y())}},300)};p.useEffect(function(){return window.addEventListener("focus",Ne,!1),function(){window.removeEventListener("focus",Ne,!1)}},[E,Te,Y,J]);var I=p.useRef([]),_e=function(u){D.current&&D.current.contains(u.target)||(u.preventDefault(),I.current=[])};p.useEffect(function(){return m&&(document.addEventListener("dragover",Ze,!1),document.addEventListener("drop",_e,!1)),function(){m&&(document.removeEventListener("dragover",Ze),document.removeEventListener("drop",_e))}},[D,m]),p.useEffect(function(){return!n&&V&&D.current&&D.current.focus(),function(){}},[D,V,n]);var N=p.useCallback(function(l){le?le(l):console.error(l)},[le]),ke=p.useCallback(function(l){l.preventDefault(),l.persist(),ee(l),I.current=[].concat(bt(I.current),[l.target]),te(l)&&Promise.resolve(i(l)).then(function(u){if(!(ae(l)&&!T)){var b=u.length,x=b>0&&it({files:u,accept:H,minSize:s,maxSize:a,multiple:f,maxFiles:g,validator:B}),w=b>0&&!x;j({isDragAccept:x,isDragReject:w,isDragActive:!0,type:"setDraggedFiles"}),c&&c(l)}}).catch(function(u){return N(u)})},[i,c,N,T,H,s,a,f,g,B]),Ie=p.useCallback(function(l){l.preventDefault(),l.persist(),ee(l);var u=te(l);if(u&&l.dataTransfer)try{l.dataTransfer.dropEffect="copy"}catch{}return u&&y&&y(l),!1},[y,T]),Re=p.useCallback(function(l){l.preventDefault(),l.persist(),ee(l);var u=I.current.filter(function(x){return D.current&&D.current.contains(x)}),b=u.indexOf(l.target);b!==-1&&u.splice(b,1),I.current=u,!(u.length>0)&&(j({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),te(l)&&v&&v(l))},[D,v,T]),Q=p.useCallback(function(l,u){var b=[],x=[];l.forEach(function(w){var W=sr(w,H),z=De(W,2),fe=z[0],pe=z[1],de=cr(w,s,a),re=De(de,2),me=re[0],ge=re[1],he=B?B(w):null;if(fe&&me&&!he)b.push(w);else{var ve=[pe,ge];he&&(ve=ve.concat(he)),x.push({file:w,errors:ve.filter(function(Dr){return Dr})})}}),(!f&&b.length>1||f&&g>=1&&b.length>g)&&(b.forEach(function(w){x.push({file:w,errors:[at]})}),b.splice(0)),j({acceptedFiles:b,fileRejections:x,type:"setFiles"}),F&&F(b,x,u),x.length>0&&C&&C(x,u),b.length>0&&S&&S(b,u)},[j,f,H,s,a,g,F,S,C,B]),X=p.useCallback(function(l){l.preventDefault(),l.persist(),ee(l),I.current=[],te(l)&&Promise.resolve(i(l)).then(function(u){ae(l)&&!T||Q(u,l)}).catch(function(u){return N(u)}),j({type:"reset"})},[i,Q,N,T]),R=p.useCallback(function(){if(J.current){j({type:"openDialog"}),se();var l={multiple:f,types:Ce};window.showOpenFilePicker(l).then(function(u){return i(u)}).then(function(u){Q(u,null),j({type:"closeDialog"})}).catch(function(u){pt(u)?(Y(u),j({type:"closeDialog"})):dt(u)?(J.current=!1,E.current?(E.current.value=null,E.current.click()):N(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):N(u)});return}E.current&&(j({type:"openDialog"}),se(),E.current.value=null,E.current.click())},[j,se,Y,G,Q,N,Ce,f]),Me=p.useCallback(function(l){!D.current||!D.current.isEqualNode(l.target)||(l.key===" "||l.key==="Enter"||l.keyCode===32||l.keyCode===13)&&(l.preventDefault(),R())},[D,R]),ze=p.useCallback(function(){j({type:"focus"})},[]),Le=p.useCallback(function(){j({type:"blur"})},[]),Ke=p.useCallback(function(){k||(st()?setTimeout(R,0):R())},[k,R]),M=function(u){return n?null:u},ue=function(u){return oe?null:M(u)},Z=function(u){return Se?null:M(u)},ee=function(u){T&&u.stopPropagation()},br=p.useMemo(function(){return function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=l.refKey,b=u===void 0?"ref":u,x=l.role,w=l.onKeyDown,W=l.onFocus,z=l.onBlur,fe=l.onClick,pe=l.onDragEnter,de=l.onDragOver,re=l.onDragLeave,me=l.onDrop,ge=ie(l,ht);return h(h(Ae({onKeyDown:ue(A(w,Me)),onFocus:ue(A(W,ze)),onBlur:ue(A(z,Le)),onClick:M(A(fe,Ke)),onDragEnter:Z(A(pe,ke)),onDragOver:Z(A(de,Ie)),onDragLeave:Z(A(re,Re)),onDrop:Z(A(me,X)),role:typeof x=="string"&&x!==""?x:"presentation"},b,D),!n&&!oe?{tabIndex:0}:{}),ge)}},[D,Me,ze,Le,Ke,ke,Ie,Re,X,oe,Se,n]),yr=p.useCallback(function(l){l.stopPropagation()},[]),xr=p.useMemo(function(){return function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=l.refKey,b=u===void 0?"ref":u,x=l.onChange,w=l.onClick,W=ie(l,vt),z=Ae({accept:H,multiple:f,type:"file",style:{display:"none"},onChange:M(A(x,X)),onClick:M(A(w,yr)),tabIndex:-1},b,E);return h(h({},z),W)}},[E,t,f,X,n]);return h(h({},ce),{},{isFocused:vr&&!n,getRootProps:br,getInputProps:xr,rootRef:D,inputRef:E,open:M(R)})}function Ot(e,r){switch(r.type){case"focus":return h(h({},e),{},{isFocused:!0});case"blur":return h(h({},e),{},{isFocused:!1});case"openDialog":return h(h({},Oe),{},{isFileDialogActive:!0});case"closeDialog":return h(h({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return h(h({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return h(h({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return h({},Oe);default:return e}}function rr(){}const Ft={"image/jpeg":[],"image/png":[],"image/gif":[],"image/bmp":[],"image/webp":[],"image/svg+xml":[]},St={"application/pdf":[],"application/msword":[],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[],"application/vnd.ms-excel":[],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[]},gr=({wrapperClass:e,type:r="image",multiple:t,children:n,onChange:i})=>{const{getRootProps:a,getInputProps:s,isDragActive:f}=mr({accept:r==="image"?{...Ft}:{...St},multiple:t,onDrop:g=>{g.length>0?i(g):nr.error("File type not supported")}});return o.jsxs("div",{...a(),className:O(`${e} cursor-pointer`,{activeClass:f}),children:[o.jsx("input",{...s()}),n]})};gr.propTypes={className:d.string,type:d.oneOf(["image","doc"]),multiple:d.bool,children:d.node};const Ct=({value:e,onChange:r,id:t})=>{const{theme:n}=Fr(),{width:i}=Sr(),a=i<768?Ar:Or;return o.jsx(wr,{dateAdapter:Er,children:o.jsx(a,{value:e,onChange:s=>r(s),minDate:tr(),slotProps:{textField:{id:t},dialog:{className:"datePicker"}},views:["day","month","hours","minutes"],sx:{"& .MuiInputBase-root":{height:"50px",borderRadius:"10px",backgroundColor:"var(--input-bg)",fontFamily:"Manrope, sans-serif",fontSize:"14px",color:"var(--header)",paddingRight:"16px","&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{border:"1px solid var(--input-focus-border)"}},"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"var(--border) !important"}},"& .MuiInputBase-input":{padding:"0 16px","&::placeholder":{color:"var(--label)"}},"& .MuiOutlinedInput-notchedOutline":{border:"1px solid var(--border)",transition:"border-color var(--transition)","&:hover":{borderColor:"var(--border) !important"}},"& .MuiButtonBase-root":{color:n==="light"?"#DEE4DF":"var(--label)",backgroundColor:"transparent !important",transition:"color var(--transition)","&:hover":{color:n==="light"?"var(--sidebar)":"#fff"},"& .MuiTouchRipple-root":{display:"none"}}}}})})},Pt=()=>{const[e,r]=p.useState([]),t=p.useRef(null);return{tags:e,inputRef:t,handleAddTag:a=>{if(a.key==="Enter"){const s=t.current.value.trim();if(s===""||e.includes(s.toLowerCase()))return;r([...e,s]),t.current.value=""}},handleDeleteTag:a=>{r(e.filter(s=>s!==a))}}},Tt=()=>{const{register:e,setValue:r,handleSubmit:t,control:n,formState:{errors:i}}=_r({defaultValues:{name:"",description:"",category:null,tags:[],shortDescription:"",publishStatus:$e[0],visibilityStatus:Be[0],schedule:[],manufacturer:"",brand:"",stock:"",price:"",discount:"",orders:""}}),{containerRef:a,isDragging:s}=He(),{containerRef:f,isDragging:g}=He(),{tags:c,inputRef:v,handleAddTag:y,handleDeleteTag:F}=Pt(),S=tr().add(1,"minute"),[C,P]=p.useState(S),$=m=>{m.key==="Enter"&&m.preventDefault()},G=m=>{y(m),r("tags",c)},V=m=>{console.log(m),nr.success("Product created successfully!")};return o.jsx(Cr,{className:"layout-wrapper h-full",children:o.jsxs("form",{className:"h-full grid grid-cols-1 gap-6 md:gap-8 lg:grid-cols-2",onSubmit:t(V),onKeyDown:$,children:[o.jsxs("div",{className:"card p-5 flex flex-col gap-4 xs:p-6 md:gap-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[o.jsx("h2",{children:"Description"}),o.jsxs("div",{className:"card-container card-container--light p-4 rounded-2xl flex flex-col gap-3 md:gap-5",children:[o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"name",children:"Product Name"}),o.jsx("input",{className:O("field-input",{"field-input--error":i.name}),id:"name",placeholder:"Enter Product Name",...e("name",{required:!0})})]}),o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"description",children:"Product Description"}),o.jsx("textarea",{className:"field-input !h-[78px] !py-4",id:"description",placeholder:"Enter Product Description",...e("description")})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[o.jsx("h2",{children:"Product Categories"}),o.jsxs("div",{className:"card-container card-container--light p-4 rounded-2xl flex flex-col gap-3 md:gap-5",children:[o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"category",children:"Product Category"}),o.jsx(ye,{name:"category",control:n,rules:{required:!0},render:({field:m})=>o.jsx(be,{className:O("field-input",{"field-input--error":i.category}),id:"category",placeholder:"Select Category",options:Pr,value:m.value,onChange:m.onChange,innerRef:m.ref,variant:"basic"})})]}),o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"tags",children:"Product Tags"}),o.jsxs("div",{className:O("draggable-container field-input flex items-center gap-4",{dragging:g,"!px-2":c.length}),ref:f,children:[c&&c.map((m,k)=>o.jsx(Tr,{className:"dark:!border-[var(--border)] dark:hover:!border-turquoise",value:m,onClick:()=>F(m)},k)),o.jsx("input",{className:"flex-1 bg-transparent min-w-[300px]",id:"tags",placeholder:c.length?"":"Enter Product Tags",ref:v,onKeyDown:G})]})]}),o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"shortDescription",children:"Product Short Description"}),o.jsx("textarea",{className:"field-input !h-[88px] !py-4",id:"shortDescription",placeholder:"Enter Product Short Description",...e("shortDescription")})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[o.jsx("h2",{children:"Publish"}),o.jsxs("div",{className:"card-container card-container--light p-4 rounded-2xl flex flex-col gap-3 md:gap-5",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"publishStatus",children:"Status"}),o.jsx(ye,{name:"publishStatus",control:n,rules:{required:!0},render:({field:m})=>o.jsx(be,{className:O("field-input",{"field-input--error":i.publishStatus}),id:"publishStatus",placeholder:"Select Status",options:$e,value:m.value,onChange:m.onChange,innerRef:m.ref,variant:"basic"})})]}),o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"visibilityStatus",children:"Visibility"}),o.jsx(ye,{name:"visibilityStatus",control:n,rules:{required:!0},render:({field:m})=>o.jsx(be,{className:O("field-input",{"field-input--error":i.visibilityStatus}),id:"visibilityStatus",placeholder:"Select Visibility",options:Be,value:m.value,onChange:m.onChange,innerRef:m.ref,variant:"basic"})})]})]}),o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"schedule",children:"Publish Schedule"}),o.jsx(Ct,{value:C,onChange:P,id:"schedule"})]})]})]})]}),o.jsxs("div",{className:"card p-5 flex flex-col gap-4 xs:p-6 md:gap-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[o.jsx("h2",{children:"General Info"}),o.jsxs("div",{className:"card-container card-container--light p-4 rounded-2xl flex flex-col gap-3 md:gap-5",children:[o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"manufacturer",children:"Manufacturer Name"}),o.jsx("input",{className:O("field-input",{"field-input--error":i.manufacturer}),id:"manufacturer",placeholder:"Enter Manufacturer Name",...e("manufacturer",{required:!0})})]}),o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"brand",children:"Brand Name"}),o.jsx("input",{className:O("field-input",{"field-input--error":i.brand}),id:"brand",placeholder:"Enter Brand Name",...e("brand",{required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 md:gap-4",children:[o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"stock",children:"Stock"}),o.jsx("input",{className:O("field-input",{"field-input--error":i.stock}),id:"stock",type:"number",placeholder:"Enter Stock",...e("stock",{required:!0})})]}),o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"price",children:"Price, $"}),o.jsx("input",{className:O("field-input",{"field-input--error":i.price}),id:"price",type:"number",placeholder:"Enter Price",...e("price",{required:!0})})]}),o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"discount",children:"Discount, %"}),o.jsx("input",{className:"field-input",id:"discount",type:"number",placeholder:"Enter Discount",...e("discount")})]}),o.jsxs("div",{className:"field-wrapper",children:[o.jsx("label",{className:"field-label",htmlFor:"orders",children:"Orders"}),o.jsx("input",{className:"field-input",id:"orders",type:"number",placeholder:"Enter Orders",...e("orders")})]})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[o.jsx("h2",{children:"Product Gallery"}),o.jsxs("div",{className:"card-container card-container--light rounded-2xl flex flex-col gap-3 md:gap-5",children:[o.jsx(gr,{wrapperClass:"card-container dark:border-border flex justify-center items-center h-[260px] border rounded-[14px] m-4 mb-0",children:o.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[o.jsx("i",{className:"icon-cloud-arrow-up-light text-[40px] text-turquoise"}),o.jsx("p",{className:"font-medium text-[15px] text-header",children:"Drop files here or click to upload"})]})}),o.jsx("div",{className:`draggable-container flex gap-4 p-4 pt-0 ${s?"dragging":""}`,ref:a,children:Array.from({length:10}).map((m,k)=>o.jsx("div",{className:"h-20 w-20 border shrink-0 rounded-[10px]",style:{background:"var(--input-bg)"}},k))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 md:gap-6 md:flex md:ml-auto",children:[o.jsx("button",{className:"btn btn--base md:w-[120px]",type:"reset",children:"Cancel"}),o.jsx("button",{className:"btn btn--primary md:w-[120px]",type:"submit",children:"Submit"})]})]})]})})},zt=()=>o.jsxs(o.Fragment,{children:[o.jsx(Nr,{title:"Create Product"}),o.jsx(Tt,{})]});export{zt as default};
